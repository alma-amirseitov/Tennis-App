# Мобильное приложение — Структура и навигация

## Общая архитектура экранов

### Хедер (глобальный, присутствует на всех табах)
```
┌─────────────────────────────────────────┐
│  [Лого/Название]          💬(badge) 🔔(badge) │
└─────────────────────────────────────────┘
```
- **Слева**: логотип приложения / название текущего раздела
- **Справа**: иконка чата (со счётчиком непрочитанных) + иконка уведомлений (со счётчиком)
- Нажатие на 💬 → экран списка чатов
- Нажатие на 🔔 → экран уведомлений

### Нижняя навигация (5 табов)
```
┌──────┬──────────┬──────────┬──────────────┬──────────┐
│ 🏠   │ 👥       │ 🎾       │ 🏛            │ 👤       │
│Главная│ Игроки  │ Ивенты   │ Сообщества   │ Профиль  │
└──────┴──────────┴──────────┴──────────────┴──────────┘
```

## Карта экранов

### 1. Онбординг и авторизация (без навигации)
```
Splash Screen
  → Onboarding (3-4 экрана, скипается)
    → Auth: ввод телефона
      → Auth: ввод SMS-кода
        → Auth: установка PIN (опционально)
          → Profile Setup: имя, фамилия, пол, возраст, город
            → Skill Quiz: 3-5 вопросов для определения уровня
              → Главный экран
```

### 2. Таб «Главная» 🏠
```
Главная
  ├── [Виджет] Мой рейтинг / статистика
  ├── [Кнопки] Найти партнёра / Создать запрос
  ├── [Список] Ближайшие игры из моих сообществ
  └── [Лента с табами] Новости | Лента
      ├── Пост (раскрытие → детальный вид)
      └── Новость сообщества (нажатие → страница сообщества)
```

### 3. Таб «Игроки» 👥
```
Игроки
  ├── [Поиск] Строка поиска по имени
  ├── [Фильтры] Уровень, город, район, пол
  └── [Список] Карточки игроков
      └── Нажатие → Публичный профиль игрока
          ├── Кнопка «Написать» → Личный чат
          └── Кнопка «Пригласить на игру» → Создание ивента
```

### 4. Таб «Ивенты» 🎾
```
Ивенты
  ├── [Внутренние табы] Лента | Календарь | Мои
  │
  ├── Лента
  │   ├── [Фильтры] Тип, дата, уровень, район
  │   ├── 🟢 Набор открыт → Карточка ивента
  │   ├── 🟡 Скоро набор → Карточка ивента
  │   ├── 🔵 Ищу партнёра → Карточка запроса
  │   └── ⚪ Завершён → Карточка с результатами
  │
  ├── Календарь
  │   ├── [Месячный вид] Точки на датах с ивентами
  │   └── [Дневной вид] Список ивентов выбранной даты
  │
  ├── Мои
  │   ├── Мои запросы (созданные мной)
  │   ├── Записался (на чужие ивенты)
  │   └── Прошедшие (с результатами)
  │
  ├── [FAB] + Создать ивент
  │   └── Конструктор ивента (wizard)
  │       ├── Шаг 1: Тип (ищу партнёра / организую игру / турнир)
  │       ├── Шаг 2: Состав (singles/doubles/mixed/team...)
  │       ├── Шаг 3: Формат матча (best-of-3, pro-set, timed...)
  │       ├── Шаг 4: Турнирная система (если турнир: knock-out, round-robin...)
  │       ├── Шаг 5: Место и время, корт
  │       ├── Шаг 6: Уровень, ограничения, макс. участников
  │       └── Шаг 7: Стоимость (бесплатно / указать цену)
  │
  └── Детальный экран ивента
      ├── Информация (тип, формат, место, время, стоимость)
      ├── Участники (список, свободные слоты)
      ├── Чат ивента
      ├── Результаты (после завершения)
      ├── Кнопка «Записаться» / «Отменить запись»
      └── Кнопка «Оплатить» (если платный)
```

### 5. Таб «Сообщества» 🏛
```
Сообщества
  ├── [Поиск] Строка поиска
  ├── [Фильтры] Тип, район, открытые/закрытые
  ├── [Секция] Мои сообщества
  └── [Секция] Рекомендуемые / Все
      └── Нажатие → Страница сообщества
          ├── [Шапка] Аватар, название, тип (✓), подписчики
          ├── [Кнопка] Вступить / Подать заявку / Оплатить
          ├── [Внутренние табы]
          │   ├── Лента (посты/новости)
          │   ├── Ивенты (список ивентов сообщества)
          │   ├── Рейтинг (лидерборд участников)
          │   ├── Участники (список)
          │   ├── Чат (групповой)
          │   └── Фото (галерея)
          └── [Для админов] Кнопка «Управление» → админ-функции
```

### 6. Таб «Профиль» 👤
```
Мой профиль
  ├── [Шапка] Фото, имя, уровень, рейтинг
  ├── [Секция] Статистика (игры / победы / поражения)
  ├── [Секция] Рейтинг и динамика (график)
  ├── [Секция] История матчей
  │   └── Нажатие → Детали матча
  ├── [Секция] Достижения / бейджи
  ├── [Секция] Мои сообщества
  ├── [Секция] Мои посты
  └── [Иконка ⚙️] Настройки
      ├── Редактировать профиль
      ├── Язык (RU / KZ / EN)
      ├── Уведомления (гранулярные настройки)
      ├── PIN-код (установить / изменить / отключить)
      ├── Приватность
      ├── О приложении
      └── Выйти
```

### 7. Публичный профиль (отдельный экран, не таб)
```
Публичный профиль игрока
  ├── [Шапка] Фото, имя, уровень, рейтинг
  ├── [Кнопки] Написать | Пригласить на игру | Добавить в друзья
  ├── [Секция] Статистика
  ├── [Секция] Рейтинг и динамика
  ├── [Секция] История матчей
  ├── [Секция] Достижения
  ├── [Секция] Сообщества
  └── [Секция] Посты
  (без настроек, без редактирования)
```

### 8. Чат (из хедера)
```
Список чатов
  ├── [Табы] Личные | Группы | Ивенты
  └── Нажатие → Экран чата
      ├── Сообщения (текст)
      ├── Ввод сообщения
      └── Информация о чате (участники, настройки)
```

### 9. Уведомления (из хедера)
```
Уведомления
  ├── [Группировка] Сегодня / Вчера / Ранее
  └── Типы:
      ├── Отклик на запрос → открывает ивент
      ├── Напоминание об игре → открывает ивент
      ├── Подтвердить счёт → открывает ввод результата
      ├── Новость сообщества → открывает пост
      ├── Новое сообщение → открывает чат
      └── Изменение рейтинга → открывает профиль
```

## Состояния экранов

Каждый экран должен иметь следующие состояния:
1. **Loading** — скелетон-загрузчики (shimmer)
2. **Empty** — иллюстрация + текст + CTA
3. **Error** — сообщение об ошибке + кнопка «Повторить»
4. **Content** — основное содержимое
5. **Offline** — баннер «Нет соединения» + кэшированные данные (где возможно)
